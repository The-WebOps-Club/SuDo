<html>

<!--<button onclick="startrotate()">Click To Start</button>-->
<style>
#moon
	{
	position:absolute;
	left:100px;
	top:10px;
	}
<!--#rov
	{
	position:absolute;
	left:900px;
	top:230px;
	}
	-->
#back
	{
	background-repeat:no-repeat;
	background-size:cover;
	}

</style>
<body id="back" background="background.jpg">


<img id="moon" src="moon.png" width="1100" height="650"></img>

<script>
var i=0;
//center=(645,310) (900,230)(390,417) y-230=-(x-900)/3.1875
var p=0,u=0;
function rotate(rov)
	{
	console.log(rov.id)
	var xr=parseInt(rov.style.left);
	console.log(xr)
	var x = rov.getAttribute("data-x");
	var y = rov.getAttribute("data-y");
	if(x<1290-x)
		{
			

		if(xr==x)	p=1; 

		if(xr==1290-x) p=0;
		if(p==1)
			{
			rov.style.top=Math.floor(310+(xr-645)*(y-310)/(x-645))+"px";
			xr++;
			console.log(rov.style.top);
			
			//console.log((310+(xr-645)*(y-310)/(x-645)));
			if(xr==645) u=1;
			}
		if(p==0)
			{
			rov.style.top=Math.floor(310+(xr-645)*(y-310)/(x-645))+"px";
			xr--;
			console.log(310+(xr-645)*(y-310)/(x-645));
			if(xr==645) u=0;
			}
		//if(u==1)
	
	rov.style.left=xr;
		}
		
	/*else if(x>1290-x)
		{
		rov.style.top=310+(xr-310)*(y-645)/(x-310);
		xr--;
		console.log(310+(xr-310)*(y-645)/(x-310));
		}
		*/	
	}
	
function startrotate(rov,x,y)
	{
	rov.style.position="absolute";
	rov.style.left=x;
	rov.style.top=y;
	rov.setAttribute("data-x",x);
	rov.setAttribute("data-y",y);
	setInterval(rotate(rov),1000);
	}
document.getElementById('back').onclick=Coord;
function Coord(e)
	{
	var x;
	var y;
	x=e.pageX;
	y=e.pageY;
	//y-yo=x-x0*(y1-y0)/(x1-x0);
	//x0,y0=(645,310) x1,y1= (x,y)
	//x2=2*x0-x1
	var rov=document.createElement("img");
	document.getElementsByTagName('body')[0].appendChild(rov);
	rov.src="rover1.png";
	i++;
	rov.id="r"+i;
	startrotate(rov,x,y);
	}
</script>
</body>
</html>
